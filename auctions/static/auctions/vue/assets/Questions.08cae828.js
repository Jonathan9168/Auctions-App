import{d as a,_ as r,o as c,c as d,a as o,h as l}from"./index.ed948278.js";const u=a({data(){return{id:this.$route.params.id}},components:{},methods:{async send_question(){if(document.getElementById("typeQuestionX").value==""){alert("Please type in the question field");return}let s=document.getElementById("typeQuestionX").value;console.log(await this.get_id());let i={question:s,user:await this.get_id(),item:this.id};await fetch("http://127.0.0.1:8000/api/questions/",{method:"POST",body:JSON.stringify(i),headers:{"X-CSRFToken":this.getCookie()}}),history.back()},async fetch_item(){let t="http://127.0.0.1:8000/api/item/"+this.id+"/";(await fetch(t,{method:"GET"})).ok||(alert("This item does not exist"),window.location.replace("http://127.0.0.1:8000/listings"))},async get_id(){return(await(await fetch("http://127.0.0.1:8000/api/uid/",{method:"GET"})).json()).id},getCookie(){let t="";if(document.cookie&&document.cookie!=="")for(var e=document.cookie.split(";"),s=0;s<e.length;s++){var i=e[s].trim();if(i.substring(0,10)==="csrftoken="){t=decodeURIComponent(i.substring(10));break}}return t}},mounted(){this.fetch_item()}}),m={class:"vh-100 gradient-custom"},h={class:"container py-5 h-100"},p={class:"row d-flex justify-content-center align-items-center h-100"},f={class:"col-12 col-md-8 col-lg-6 col-xl-5"},_={class:"card bg-dark text-white",style:{"border-radius":"1rem"}},b={class:"card-body p-5 text-center"},g={class:"mb-md-5 mt-md-4 pb-5"},y=l('<h2 class="fw-bold mb-2 text-uppercase card-text-colour"> Question </h2><form id="post" class="p-1"><div class="form-outline form-white mb-4"><label class="form-label card-text-colour2" for="typeQuestionX">Enter your question here:</label><textarea id="typeQuestionX" class="form-control form-control-lg"></textarea></div></form>',2);function v(t,e,s,i,k,w){return c(),d("section",m,[o("div",h,[o("div",p,[o("div",f,[o("div",_,[o("div",b,[o("div",g,[y,o("button",{class:"btn btn-outline-light btn-lg px-5",onClick:e[0]||(e[0]=(...n)=>t.send_question&&t.send_question(...n)),type:"submit"}," Submit ")])])])])])])])}const q=r(u,[["render",v]]);export{q as default};
