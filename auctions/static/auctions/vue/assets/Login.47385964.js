import{d as m,_ as p,r as u,o as f,c as h,a as e,f as d,v as c,g as _,b as g,w}from"./index.ed948278.js";const b=m({data(){return{email:"",password:""}},components:{},methods:{async get_csrf(){await(await fetch("http://127.0.0.1:8000/login/",{method:"GET"})).text()},async logIn(){let t=document.getElementById("typeEmailX").value,o=document.getElementById("typePasswordX").value;if(!(n=>String(n).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))(t)){alert("Please enter a valid email");return}if(t==""&&o==""){alert("Please enter you email and your password");return}t==""&&alert("Please enter you email"),o==""&&alert("Please enter your password");let a={type:"login",email:this.email,password:this.password},l=await fetch("http://127.0.0.1:8000/api/users/",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json","X-CSRFToken":this.getCookie()}}),i=await l.text();l.ok&&i=="logged in"&&window.location.replace("http://127.0.0.1:8000/profile/")},getCookie(){let t="";if(document.cookie&&document.cookie!=="")for(var o=document.cookie.split(";"),s=0;s<o.length;s++){var a=o[s].trim();if(a.substring(0,10)==="csrftoken="){t=decodeURIComponent(a.substring(10));break}}return t}},mounted(){this.get_csrf()}}),y={class:"vh-100 gradient-custom"},v={class:"container py-5 h-100"},x={class:"row d-flex justify-content-center align-items-center h-100"},k={class:"col-12 col-md-8 col-lg-6 col-xl-5"},C={class:"card bg-dark text-white",style:{"border-radius":"1rem"}},E={class:"card-body p-5 text-center"},P={class:"mb-md-5 mt-md-4 pb-5"},X=e("h2",{class:"fw-bold mb-2 text-uppercase card-text-colour"}," Login ",-1),T=e("p",{class:"mb-5 card-text-colour2"}," Please enter your login and password! ",-1),V={id:"post",class:"p-1"},$={class:"form-outline form-white mb-4"},B=e("label",{class:"form-label card-text-colour2",for:"typeEmailX"},"Email",-1),I={class:"form-outline form-white mb-4"},S=e("label",{class:"form-label card-text-colour2",for:"typePasswordX"},"Password",-1),L={class:"mb-0 card-text-colour2"},N=e("a",{href:"#",class:"card-text-colour2 fw-bold"},"SignUp",-1);function U(t,o,s,a,l,i){const n=u("router-link");return f(),h("section",y,[e("div",v,[e("div",x,[e("div",k,[e("div",C,[e("div",E,[e("div",P,[X,T,e("form",V,[e("div",$,[d(e("input",{type:"email",id:"typeEmailX","onUpdate:modelValue":o[0]||(o[0]=r=>t.email=r),class:"form-control form-control-lg",required:""},null,512),[[c,t.email]]),B]),e("div",I,[d(e("input",{type:"password",id:"typePasswordX","onUpdate:modelValue":o[1]||(o[1]=r=>t.password=r),class:"form-control form-control-lg",required:""},null,512),[[c,t.password]]),S])]),e("button",{class:"btn btn-outline-light btn-lg px-5",onClick:o[2]||(o[2]=r=>t.logIn()),type:"submit"}," Login ")]),e("div",null,[e("p",L,[_(" Don't have an account? "),g(n,{to:"/signup"},{default:w(()=>[N]),_:1})])])])])])])])])}const q=p(b,[["render",U]]);export{q as default};
