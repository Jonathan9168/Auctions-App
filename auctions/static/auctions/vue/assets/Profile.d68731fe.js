import{d as w,_ as v,r as x,o as i,c as n,a as t,t as a,b as g,w as f,F as b,e as k}from"./index.ed948278.js";const D=w({data(){return{id:0,user:[],items:[]}},components:{},methods:{async get_id(){let s=await(await fetch("http://127.0.0.1:8000/api/uid/",{method:"GET"})).json();this.id=s.id,this.fetch_user()},async fetch_user(){let e="http://127.0.0.1:8000/api/user/"+this.id+"/",o=await(await fetch(e,{method:"GET"})).json();this.user=o.user},formatDate(e){var s=new Date(e).getHours(),o=new Date(e).getMinutes(),c=s>=12?"pm":"am";s=s%12,s=s||12;var r=o<10?"0"+o:o,d=s+":"+r+" "+c;return new Date(e).getDate()+"/"+(new Date(e).getMonth()+1)+"/"+new Date(e).getFullYear()+"  "+d},async fetch_items(){let s=await(await fetch("http://127.0.0.1:8000/api/items/",{method:"GET"})).json();console.log(s.items);let o=+this.id;console.log(o),this.items=s.items.filter(function(c,r){return c.user===o},o)}},mounted(){this.get_id(),this.fetch_items()}}),N={class:"container mt-4"},E={class:"row"},T={class:"col-sm-2 text-center mb-2"},I=["src"],G=["src"],C={class:"col-sm-8 text-center p-2 rounded",style:{"background-color":"rgb(23, 45, 125, 0.2)"}},S={class:"text-secondary"},V={class:"text-secondary"},$={class:"col-sm-2 text-center"},j=t("button",{class:"btn btn-primary"},"Edit profile",-1),B={class:"gradient-custom"},F={class:"container py-5 background-colour"},L={class:"table table-striped table-dark text-white table-hover text-center table-bordered"},M=t("thead",null,[t("tr",null,[t("th",{colspan:"6",class:"p-3 card-text-colour"},"YOUR LISTINGS")]),t("tr",null,[t("th",{scope:"col",class:"p-3"},"Ending time"),t("th",{scope:"col",class:"p-3"},"Image"),t("th",{scope:"col",class:"p-3"},"Title"),t("th",{scope:"col",class:"p-3"},"Description"),t("th",{scope:"col",class:"p-3"},"Current bid"),t("th",{scope:"col",class:"p-3"},"View")])],-1),P={key:0},Y={style:{"text-align":"center","vertical-align":"middle"}},A=["src"],H=t("button",{class:"btn btn-secondary"}," VIEW LISTING ",-1),O={key:1},R=t("tr",null,[t("td",{class:"text-secondary"},"No items to display"),t("td",{class:"text-secondary"},"No items to display"),t("td",{class:"text-secondary"},"No items to display"),t("td",{class:"text-secondary"},"No items to display"),t("td",{class:"text-secondary"},"No items to display"),t("td",{class:"text-secondary"},"No items to display")],-1),U=[R];function W(e,s,o,c,r,d){var p,u,_,m,y;const h=x("router-link");return i(),n(b,null,[t("div",N,[t("div",E,[t("div",T,[((p=e.user[0])==null?void 0:p.profile_picture)!=null?(i(),n("img",{key:0,src:"http://127.0.0.1:8000/media/"+((u=e.user[0])==null?void 0:u.profile_picture),style:{width:"5em",height:"5em"}},null,8,I)):(i(),n("img",{key:1,src:"http://127.0.0.1:8000/media/default_profile_picture.png",style:{width:"5em",height:"5em"}},null,8,G))]),t("div",C,[t("h1",null,a((_=e.user[0])==null?void 0:_.email),1),t("p",S,a((m=e.user[0])==null?void 0:m.city),1),t("p",V,a((y=e.user[0])==null?void 0:y.dob),1)]),t("div",$,[g(h,{to:"/editProfile"},{default:f(()=>[j]),_:1})])])]),t("section",B,[t("div",F,[t("table",L,[M,e.items.length>0?(i(),n("tbody",P,[(i(!0),n(b,null,k(e.items,l=>(i(),n("tr",Y,[t("td",null,a(e.formatDate(l.auction_end_time)),1),t("td",null,[t("img",{src:"http://127.0.0.1:8000/media/"+l.image,style:{height:"75px",width:"75px"}},null,8,A)]),t("td",null,a(l.title),1),t("td",null,a(l.description),1),t("td",null,"\xA3"+a(l.starting_price),1),t("td",null,[g(h,{to:"/item/"+l.id},{default:f(()=>[H]),_:2},1032,["to"])])]))),256))])):(i(),n("tbody",O,U))])])])],64)}const z=v(D,[["render",W]]);export{z as default};
